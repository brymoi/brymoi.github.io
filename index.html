<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<title>Teste de canvas</title>
	<style type="text/css">
		body{
			padding: 0;
			margin: 0;
			width: 100%;
			height: 100%;
		}

		canvas {
			border: 1px solid gray;
		}
	</style>
</head>
<body>
	<canvas id="canvas"></canvas>
	<script>
		var canvas = document.getElementById("canvas"), ctx = canvas.getContext("2d");

		canvas.width  = window.innerWidth-2;
		canvas.height = window.innerHeight-30;

		var tam = 10, x = canvas.width/2, y = canvas.height-30, dx = 2, dy = 2;

		function retangulo() {
		    ctx.beginPath();
		    ctx.fillRect(x, y, tam, tam)
		    ctx.fillStyle = "#0095DD";
		    ctx.fill();
		    ctx.closePath();
		}

		function desenha() {
		    ctx.clearRect(0, 0, canvas.width, canvas.height);
		    retangulo();

		    if(x + dx > canvas.width-tam || x + dx < 0) {
			dx = -dx;
		    }
		    if(y + dy > canvas.height-tam || y + dy < 0) {
			dy = -dy;
		    }

		    x += dx;
		    y += dy;
		}

		function aumenta(){
			tam++;
		}

		function diminui(){
			tam--;
		}

		setInterval(desenha, 10);
	</script>
	<button onclick="aumenta()">+</button>
	<button onclick="diminui()">-</button>
</body>
</html>
